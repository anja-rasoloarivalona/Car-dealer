(this.webpackJsonpafricauto=this.webpackJsonpafricauto||[]).push([[0],{123:function(e,t){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),o=a.n(s),c=a(11),i=a(4),l=a(5),u=a(6),m=a(2),d=a(7),_=(a(91),a(28)),p=a(10),h=function(e){return{type:"SET_PRODUCT_REQUESTED_ID",data:e}},v=function(e){return{type:"SET_LANG",lang:e}},g=function(e){return{type:"SET_CURRENCY",currency:e}},f=function(e){return{type:"ADD_A_NEW_MESSAGE_NOTIFICATION",data:e}},E=a(27),y=a.n(E),b=a(77),N=a.n(b),w=a(197),O={fr:{home:"accueil",inventory:"inventaire",services:"services",welcomeTo:"bienvenu chez",availableCars:"v\xe9hicules disponibles",seeMore:"voir plus",see:"voir",needHelp:"besoin d'aide",password:"mot de passe",login:"se connecter",firstName:"pr\xe9nom",lastName:"nom",confirmPassword:"confirmer mot de passe",signUp:"s'inscrire",alreadyHaveAnAccount:"D\xe9j\xe0 un compte",forgotPassword:"Mot de passe oubli\xe9",notAMemberYet:"Pas encore membre",search:"recherche",allBodyTypes:"toutes les carrosseries",allBrands:"toutes les marques",allModels:"tous les mod\xe8les",increasingPrice:"prix croissant",decreasingPrice:"prix d\xe9croissant",latest:"les plus r\xe9cents",mostPopular:"les plus populaires",price:"prix",year:"ann\xe9e",ourOffers:"nos offres",learnMore:"VOIR D\xc9TAILS",mostPopularSedan:"Les berlines les plus populaires",wotoFooter:"Woto motors est un concessionnaire automobile bas\xe9 au Qu\xe9bec. Nous livrons les v\xe9hicules partout dans le monde. Pour plus de renseignements, connectez-vous sur votre compte woto et communiquer avec nos agents.",siteMap:"Plan du site",subscribe:"s'abonner",getLastUpdate:"Recevez les derni\xe8res mises \xe0 jour et offres",youVeBeenSubscribed:"Vous \xeates abonn\xe9. Merci de vous joindre \xe0 nous.",parameters:"param\xe8tres",homeContactText:"Connectez-vous sur votre compte woto et b\xe9n\xe9ficiez d'un service premium gratuitement. Nos agents seront ravis de vous accompagnez dans l'achat de votre prochaine voiture.",yourNextCarHere:"votre prochaine voiture est ici",serviceText:"O\xf9 que vous soyez, nous avons ce qu'il vous faut. Nous offrons 4 diff\xe9rents types de service en fonction du lieu de livraison. Nous donnons aussi la possibilit\xe9 \xe0 nos clients de pouvoir opter pour un service personnalis\xe9. Pour cela, nous invitons \xe0 entrer en contact avec l'un de nos agent.",purchase:"achat",vehicle_paper:"papier_du_v\xe9hicule",customs_clearance:"d\xe9douanement",insurance:"assurance"},en:{home:"home",inventory:"inventory",services:"services",welcomeTo:"welcome to",availableCars:"available cars",seeMore:"see more",see:"see",needHelp:"need some help",password:"password",firstName:"first name",lastName:"last name",confirmPassword:"confirm password",signUp:"sign up",alreadyHaveAnAccount:"Already have an account",forgotPassword:"Forgot your password",notAMemberYet:"Not a member yet",login:"login",search:"search",allBodyTypes:"all body types",allBrands:"all brands",allModels:"all models",increasingPrice:"increasing price",decreasingPrice:"decreasing price",latest:"latest",mostPopular:"most popular",price:"price",year:"year",ourOffers:"our offers",learnMore:"LEARN MORE",mostPopularSedan:"The most popular sedan",wotoFooter:"Woto motors is a car dealership based in Quebec. We deliver vehicles all over the world. For more information, log into your woto account and communicate with our agents.",siteMap:"site map",subscribe:"subscribe",getLastUpdate:"Get latest updates and offers",youVeBeenSubscribed:"You've been subscribed. Thank you for joining us.",parameters:"parameters",homeContactText:"Log in to your woto account and enjoy a premium service for free. Our agents will be happy to assist you in the purchase of your next car.",yourNextCarHere:"your next car is here",serviceText:"Wherever you are, we have what you need. We offer 4 different types of service depending on the place of delivery. We also give our customers the possibility to choose a customized package. Therefore, we invite you to contact one of our agents.",purchase:"purchase",vehicle_paper:"vehicle_paper",customs_clearance:"customs_clearance",insurance:"insurance"}},C=a(25),S=a.n(C),j=a(3),I=(a(133),a(134),a(78)),T=a.n(I),P=function(e){return r.a.createElement("svg",{viewBox:"0 0 16 16",onClick:e.onClick,className:"icon icon-".concat(e.icon," ").concat(e.size," ").concat(e.customClass),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("use",{xlinkHref:"".concat(T.a,"#icon-").concat(e.icon)}))},k=(a(135),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showList:!1},a.toggleList=function(){a.setState((function(e){return Object(j.a)({},e,{showList:!e.showList})}))},a.handleClick=function(e){a.target&&a.target.contains(e.target)||a.state.showList&&a.toggleList()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=this.props.list,a=this.state.showList;return r.a.createElement("div",{className:"drop-down-list ".concat(a?"show":""),ref:function(t){return e.target=t},onClick:this.toggleList},r.a.createElement("div",{className:"drop-down-list__value"},this.props.value,r.a.createElement(P,{icon:"arrow_down"})),r.a.createElement("ul",{className:"drop-down-list__list"},t.map((function(t){return r.a.createElement("li",{className:"drop-down-list__list__item\n                                        ".concat(t.value&&e.props.value===t.value?"active":"","\n                                        ").concat(t.text&&e.props.value===t.text?"active":"","\n                                        ").concat(e.props.value===t?"active":""),key:t.text?t.text:t,onClick:function(){return e.props.selectItemHandler(t.value?t.value:t)}},t.text?t.text:t)}))))}}]),t}(n.Component)),M=Object(p.b)((function(e){return{lang:e.parameters.lang,currency:e.parameters.currency,price:e.product.price}}),(function(e){return{setLang:function(t){return e(v(t))},setCurrency:function(t){return e(g(t))},setPrice:function(t){return e({type:"SET_PRICE",data:t})}}}))(Object(_.f)((function(e){return r.a.createElement("div",{className:"navtop \n\n                        "},r.a.createElement("div",{className:"navtop__logo"},"WOTO"),r.a.createElement("div",{className:"navtop__contact"},r.a.createElement("div",{className:"navtop__contact__detail"},r.a.createElement(P,{icon:"phone"}),r.a.createElement("div",null,"+1 438 896 2026")),r.a.createElement("div",{className:"navtop__contact__detail"},r.a.createElement(P,{icon:"email"}),r.a.createElement("div",null,"wotto@gmail.com"))),r.a.createElement("div",{className:"navtop__cta"},r.a.createElement(k,{value:e.lang,list:["english","spanish","french"],selectItemHandler:function(t){var a=S.a.parse(e.location.search);a=Object(j.a)({},a,{lang:t});var n=S.a.stringify(a);e.history.push({pathname:e.history.pathname,search:"".concat(n)}),e.setLang(t)}}),r.a.createElement(k,{value:e.currency,list:["CAD","USD","EUR"],selectItemHandler:function(t){var a=S.a.parse(e.location.search);a=Object(j.a)({},a,{currency:t});var n=S.a.stringify(a);e.history.push({pathname:e.history.pathname,search:"".concat(n)}),e.setCurrency(t)}})))}))),H=(a(137),a(194)),x=Object(p.b)((function(e){return{isAuth:e.auth.auth,userName:e.auth.userName,lang:e.parameters.lang}}))(Object(_.f)((function(e){var t=e.userName,a=e.isAuth;return r.a.createElement("nav",{className:"navbarContainer \n                            ".concat(e.scrolled?"fixed":"","\n                            ")},r.a.createElement("ul",{className:"navbar__list"},r.a.createElement(c.c,{exact:!0,to:"/",className:"navbar__list__item"},r.a.createElement(H.a,{id:"home",defaultMessage:"home"})),r.a.createElement(c.b,{to:"../inventory",className:"navbar__list__item ".concat(e.location.pathname.includes("inventory")?"active":"")},r.a.createElement(H.a,{id:"inventory",defaultMessage:"inventory"})),r.a.createElement(c.b,{to:"../services",className:"navbar__list__item ".concat(e.location.pathname.includes("services")?"active":"")},r.a.createElement(H.a,{id:"services",defaultMessage:"services"}))),r.a.createElement("div",{className:"navbar__cta"},!a&&r.a.createElement(c.b,{className:"navbar__cta__login",to:"auth"},r.a.createElement(P,{icon:"user"}),r.a.createElement("span",null,r.a.createElement(H.a,{id:"login",defaultMessage:"login"}))),a&&r.a.createElement("div",{className:"navbar__cta__avatar",onClick:function(){return e.history.push("/my-account/messages")}},r.a.createElement("span",null,t.split(" ")[0].slice(0,1),t.split(" ")[1].slice(0,1)))))}))),D=(a(138),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showNavList:!1,showLogout:!1},a.toggleNavList=function(){a.setState((function(e){return Object(j.a)({},e,{showNavList:!e.showNavList})}))},a.toggleShowLogout=function(){a.setState((function(e){return Object(j.a)({},e,{showLogout:!e.showLogout})}))},a.setCurrency=function(e){a.props.history.push({pathname:a.props.history.pathname,search:"lang=".concat(a.props.lang,"&currency=").concat(e)}),a.props.setCurrency(e),a.toggleNavList()},a.setLang=function(e){a.props.history.push({pathname:a.props.history.pathname,search:"lang=".concat(e,"&currency=").concat(a.props.currency)}),a.props.setLang(e),a.toggleNavList()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showNavList,a=e.showLogout,n=this.props.userName,s=this.props.isAuth;return r.a.createElement("div",{className:"mobile-nav"},r.a.createElement("div",{className:"mobile-nav__group"},r.a.createElement("div",{className:"mobile-nav__toggler",onClick:this.toggleNavList},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{className:"mobile-nav__logo"},r.a.createElement(c.b,{to:"/inventory"},"WOTO"))),r.a.createElement("div",{className:"mobile-nav__group"},r.a.createElement(c.b,{to:"/my-account/messages"},r.a.createElement(P,{icon:"email"})),r.a.createElement(c.b,{to:"/my-account/favorites"},r.a.createElement(P,{icon:"heart"})),!s&&r.a.createElement(c.b,{className:"mobile-nav__login",to:"/auth"},"Login"),s&&window.innerWidth>738&&r.a.createElement(c.b,{className:"mobile-nav__avatar",to:"/my-account/messages"},r.a.createElement("span",null,n.split(" ")[0].slice(0,1),n.split(" ")[1].slice(0,1))),s&&window.innerWidth<=738&&r.a.createElement("div",{className:"mobile-nav__avatar",to:"/my-account/messages",onClick:this.toggleShowLogout},r.a.createElement("span",null,n.split(" ")[0].slice(0,1),n.split(" ")[1].slice(0,1)),r.a.createElement("div",{className:"mobile-nav__logout ".concat(a?"show":""),onClick:this.props.logoutHandler},"Logout"))),t&&r.a.createElement("div",{className:"mobile-nav__backdrop",onClick:this.toggleNavList}),r.a.createElement("div",{className:"mobile-nav__listContainer  ".concat(t?"show":"")},r.a.createElement("ul",{className:"mobile-nav__list"},r.a.createElement(c.c,{exact:!0,to:"/",className:"mobile-nav__list__item",onClick:this.toggleNavList},"Home"),r.a.createElement(c.c,{to:"/inventory",className:"mobile-nav__list__item",onClick:this.toggleNavList},"Inventory"),r.a.createElement(c.c,{to:"/services",className:"mobile-nav__list__item",onClick:this.toggleNavList},"Services")),r.a.createElement("div",{className:"mobile-nav__parameters"},r.a.createElement(k,{value:this.props.lang,list:["english","spanish","french"],selectItemHandler:this.setLang}),r.a.createElement(k,{value:this.props.currency,list:["CAD","USD","EUR"],selectItemHandler:this.setCurrency})),r.a.createElement("div",{className:"mobile-nav__list__socialMedia"},r.a.createElement(P,{icon:"facebook"}),r.a.createElement(P,{icon:"instagram"}),r.a.createElement(P,{icon:"twitter"}))))}}]),t}(n.Component)),q=Object(p.b)((function(e){return{isAuth:e.auth.auth,userName:e.auth.userName,lang:e.parameters.lang,currency:e.parameters.currency}}),(function(e){return{setLang:function(t){return e(v(t))},setCurrency:function(t){return e(g(t))}}}))(Object(_.f)(D)),L=(a(139),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={susbscribed:!1,subscribeInput:""},a.changeInputHandler=function(e){a.setState({subscribeInput:e})},a.subscribeHandler=function(){a.setState({susbscribed:!0,subscribeInput:""})},a.setCurrencyHandler=function(e){a.props.history.push({pathname:a.props.history.pathname,search:"lang=".concat(a.props.lang,"&currency=").concat(e)}),a.props.setCurrency(e),window.scrollTo(0,0)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.susbscribed,n=t.subscribeInput,s=this.props.hide;return r.a.createElement("footer",{className:"footer ".concat(s?"hide":"")},r.a.createElement("ul",{className:"footer__list"},r.a.createElement("li",{className:"footer__list__group"},r.a.createElement("div",{className:"footer__list__item"},r.a.createElement("h3",{className:"footer__title"},"WOTO Motors"),r.a.createElement("p",null,r.a.createElement(H.a,{id:"wotoFooter",defaultMessage:"Woto motors is a car dealership based in Quebec. We deliver vehicles all over the world. For more information, log into your woto account and communicate with our agents."}))),r.a.createElement("div",{className:"footer__list__item"},r.a.createElement("h3",{className:"footer__title"},r.a.createElement(H.a,{id:"siteMap",defaultMessage:"site map"})),r.a.createElement("ul",{className:"footer__list__item__list"},r.a.createElement("li",{className:"footer__list__item__list__item"},r.a.createElement("a",{href:"/"},r.a.createElement(H.a,{id:"home",defaultMessage:"home"}))),r.a.createElement("li",{className:"footer__list__item__list__item"},r.a.createElement("a",{href:"/inventory"},r.a.createElement(H.a,{id:"inventory",defaultMessage:"inventory"}))),r.a.createElement("li",{className:"footer__list__item__list__item"},r.a.createElement("a",{href:"/services"},r.a.createElement(H.a,{id:"services",defaultMessage:"services"})))))),r.a.createElement("li",{className:"footer__list__group"},r.a.createElement("div",{className:"footer__list__item"},r.a.createElement("h3",{className:"footer__title"},r.a.createElement(H.a,{id:"subscribe",defaultMessage:"subscribe"})),r.a.createElement("div",{className:"footer__inputContainer"},r.a.createElement("input",{className:"footer__input",value:n,type:"email",placeholder:"email",onChange:function(t){return e.changeInputHandler(t.target.value)}}),r.a.createElement(P,{icon:"send",onClick:this.subscribeHandler})),a&&r.a.createElement("p",null,r.a.createElement(H.a,{id:"youVeBeenSubscribed",defaultMessage:"You've been subscribed. Thank you for joining us"})),!a&&r.a.createElement("p",null,r.a.createElement(H.a,{id:"getLastUpdate",defaultMessage:"Get latest updates and offers"}))),r.a.createElement("div",{className:"footer__list__item"},r.a.createElement("h3",{className:"footer__title"},r.a.createElement(H.a,{id:"parameters",defaultMessage:"parameters"})),r.a.createElement("ul",{className:"footer__list__item__list"},r.a.createElement("li",{className:"footer__list__item__list__item"},r.a.createElement(k,{value:this.props.lang,list:["english","spanish","french"],selectItemHandler:this.props.setLang})),r.a.createElement("li",{className:"footer__list__item__list__item"},r.a.createElement(k,{value:this.props.currency,list:["CAD","USD","EUR"],selectItemHandler:this.setCurrencyHandler})))))),r.a.createElement("div",{className:"footer__copyRight"},r.a.createElement("span",null,"\xa9 Anja Rasoloarivalona - 2019"),r.a.createElement("ul",{className:"footer__socialNetwork__list"},r.a.createElement(P,{icon:"facebook"}),r.a.createElement(P,{icon:"instagram"}),r.a.createElement(P,{icon:"twitter"}),r.a.createElement(P,{icon:"google-plus"}))))}}]),t}(n.Component)),A=Object(p.b)((function(e){return{lang:e.parameters.lang,currency:e.parameters.currency}}),(function(e){return{setLang:function(t){return e(v(t))},setCurrency:function(t){return e(g(t))}}}))(Object(_.f)(L)),R=a(13),F=(a(140),function(){var e,t=new Date,a=t.getDate();e=a<10?"0"+a:a;var n=t.getMonth()+1,r=t.getFullYear(),s=t.getHours(),o=t.getMinutes(),c=t.getSeconds();return"".concat(e,"-").concat(n,"-").concat(r," ").concat(s,":").concat(o,":").concat(c)}),U=a(80),B=a.n(U),W=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.textarea.focus(),B()(this.textarea)}},{key:"render",value:function(){var e=this;return r.a.createElement("textarea",{style:{maxHeight:"9rem",minHeight:"4rem",resize:"none",padding:".7rem",boxSizing:"border-box",fontSize:"1.6rem"},ref:function(t){return e.textarea=t},placeholder:this.props.placeholder,rows:1,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)},className:this.props.className})}}]),t}(n.Component),V=(a(141),function(e){var t,a,n=e.messages,s="",o=n[0].timeStamp,c=n[0].timeStamp.slice(0,5);return a=n[0].senderType,n.map((function(e,i,l){var u=l[i].timeStamp.slice(0,5);return 0===i?s=o:u!==c&&i+1<l.length?(s=n[i].timeStamp,c=n[i].timeStamp.slice(0,5)):s="",i+1<l.length&&l[i+1].senderType===a?t="small":(t="big",i+1<l.length&&(a=l[i+1].senderType)),r.a.createElement("div",{key:e._id,className:"messagesContainer__body__chatContainer"},""!==s&&r.a.createElement("div",{className:"messagesContainer__body__chat__convoDate"},s),r.a.createElement("div",{className:"messagesContainer__body__chat               \n                                ".concat("small"===t?"small-gap":"big-gap")},r.a.createElement("div",{className:"messagesContainer__body__chat__content \n                                    ".concat("user"===e.senderType?"user":"admin")},e.message)))}))}),z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messages:null,messageInput:"",showChat:!0,name:""},a.readNewMessagesHandler=function(){var e="http://localhost:8000/messages/"+a.props.userId,t=F();fetch(e,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({timeStamp:t,userName:a.state.name})}).then((function(e){if(200!==e.status)throw new Error("Failed to fetch messages");return e.json()})).then((function(e){console.log("resdata",e)})).catch((function(e){console.log(e)}))},a.sendMessageHandler=function(){if(""!==a.state.messageInput.trim()){var e=F(),t="http://localhost:8000/messages/user/"+a.props.userId;fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:a.state.name,message:a.state.messageInput,timeStamp:e})}).then((function(e){return e.json()})).then((function(e){a.addMessages(e.data),a.setState({messageInput:""})})).catch((function(e){console.log(e)}))}else alert("Please enter a message")},a.addMessages=function(e){var t=[].concat(Object(R.a)(a.state.messages),[e]);a.setState({messages:t},(function(){return a.scrollToBottom()}))},a.messageChangeHandler=function(e){a.setState({messageInput:e})},a.toggleShowChat=function(){var e=0;a.state.messages.forEach((function(t){!1===t.read&&e++})),a.props.newMessage>0&&(e+=a.props.newMessage),e>0&&(a.readNewMessagesHandler(),a.props.resetNewMessageNotification()),a.setState((function(e){return{showChat:!e.showChat}}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="http://localhost:8000/messages/"+this.props.userId;fetch(t,{headers:{"Content-Type":"application/json"},method:"GET"}).then((function(e){if(200!==e.status)throw new Error("Failed to fetch messages");return e.json()})).then((function(t){var a=t.messages.messages,n=0;a.forEach((function(e){!1===e.read&&n++})),n>0&&e.props.addNewMessageNotification(n),e.setState({messages:t.messages.messages,name:e.props.userName},(function(){return e.scrollToBottom()}))})).catch((function(e){console.log(e)})),y()("http://localhost:8000").on("adminSentMessage",(function(t){e.props.userId===t.messageData.userId&&(e.props.playNotificationSound(),e.addMessages(t.messageData),!0===e.state.showChat?e.readNewMessagesHandler():e.props.addNewMessageNotification(1))}))}},{key:"scrollToBottom",value:function(){this.messagesEnd.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e,t=this,a=this.state,s=a.showChat,o=a.messageInput,c=a.messages;return e=c&&c.length>0?r.a.createElement(V,{messages:c}):r.a.createElement("div",{className:"messagesContainer__body__start"},"Start conversation"),r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"chat",onClick:this.toggleShowChat},r.a.createElement("div",{className:"chat__icon"},r.a.createElement(P,{icon:"messenger"})),!s&&this.props.newMessage>0&&r.a.createElement("div",{className:"chat__notif"},this.props.newMessage)),r.a.createElement("div",{className:"chat__messages ".concat(s?"show":"")},r.a.createElement("div",{className:"chat__messages__header"},r.a.createElement(P,{icon:"close",onClick:this.toggleShowChat}),r.a.createElement("span",null,"Open conversation")),r.a.createElement("div",{className:"chat__messages__body"},e,r.a.createElement("div",{ref:function(e){return t.messagesEnd=e}})),r.a.createElement("div",{className:"chat__messages__input"},r.a.createElement(W,{value:o,placeholder:"Write a message",onChange:this.messageChangeHandler}),r.a.createElement(P,{icon:"send",onClick:this.sendMessageHandler}))))}}]),t}(n.Component),G=Object(p.b)((function(e){return{userId:e.auth.userId,userName:e.auth.userName,newMessage:e.notification.newMessage}}),(function(e){return{addNewMessageNotification:function(t){return e(f(t))},resetNewMessageNotification:function(){return e({type:"RESET_NEW_MESSAGE_NOTIFICATION"})}}}))(z),Y=(a(142),function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__ball"})))}),J=(a(143),a(144),a(145),function(e){return e.link?r.a.createElement(c.b,{className:"button button--".concat(e.color,"  ").concat(e.customClass),to:e.link,onClick:e.onClick},e.children):r.a.createElement("button",{className:["button","button--".concat(e.color)].join(" "),onClick:e.onClick,disabled:e.disabled||e.loading,type:e.type},e.loading?"Looading...":e.children)}),K=(a(146),a(147),a(148),Object(p.b)((function(e){return{currency:e.parameters.currency,quotes:e.parameters.quotes}}))((function(e){var t=e.quotes.USDCAD,a=e.quotes.USDEUR,n=e.currency,s=e.amount;return"USD"===n&&(s/=t),"EUR"===n&&(s=s/t*a),r.a.createElement("div",{className:"amount"},r.a.createElement("span",{className:"amount__value"},Math.ceil(s).toLocaleString())," ",e.showCurrency?r.a.createElement("span",{className:"amount__currency"},n):"")}))),Q=function(e){return r.a.createElement("article",{className:"product"},e.children,r.a.createElement("div",{className:"product__imgContainer",onClick:e.requestProductDetails},r.a.createElement("div",{className:"product__imgContainer__hoverLayer"}),r.a.createElement("img",{src:e.mainImg,alt:"main img",className:"product__img"}),r.a.createElement(P,{icon:"search"})),r.a.createElement("div",{className:"product__details"},r.a.createElement("div",{className:"product__details__model"},r.a.createElement("span",null,e.title),r.a.createElement("span",null,e.year)),r.a.createElement("div",{className:"product__details__price"},r.a.createElement(K,{amount:e.price,showCurrency:!0}))),r.a.createElement("ul",{className:"product__specList"},r.a.createElement("li",{className:"product__specList__item"},r.a.createElement("span",null,e.nbKilometers),r.a.createElement(P,{icon:"road"})),r.a.createElement("li",{className:"product__specList__item"},r.a.createElement("span",null,e.gazol),r.a.createElement(P,{icon:"gas-station"})),r.a.createElement("li",{className:"product__specList__item"},r.a.createElement("span",null,e.transmissionType),r.a.createElement(P,{icon:"gear"}))))},X=Object(p.b)((function(e){return{currency:e.parameters.currency,lang:e.parameters.lang}}),(function(e){return{setProductRequestedData:function(t){return e(h(t))}}}))(Object(_.f)((function(e){var t=e.productsList;return r.a.createElement("ul",{className:"products-list"},t.map((function(t){return r.a.createElement("li",{key:t._id,className:"products-list__item"},r.a.createElement(Q,{id:t._id,mainImg:t.general.mainImgUrl,title:t.general.title,brand:t.general.brand,model:t.general.model,year:t.general.year,price:t.general.price,nbKilometers:t.general.nbKilometers,gazol:t.general.gazol,transmissionType:t.general.transmissionType,requestProductDetails:function(){return a=t,e.setProductRequestedData(a),e.history.push("/inventory/".concat(a._id,"?bodyType=").concat(a.general.bodyType,"&brand=").concat(a.general.brand,"&model=").concat(a.general.model,"&currency=").concat(e.currency,"&lang=").concat(e.lang,"&price=").concat(a.general.price)),void(e.fetchProductDetailsHandler&&e.fetchProductDetailsHandler(a));var a}}))})))}))),$=r.a.memo((function(e){var t=e.carsHomeInventory,a=e.homeInventoryLimit;return a<t.length&&(t=t.slice(0,a)),r.a.createElement("div",{className:"home-inventory"},r.a.createElement(X,{productsList:t}),r.a.createElement(J,{color:"primary",onClick:function(){return e.history.push("/inventory")}},r.a.createElement(H.a,{id:"seeMore",defaultMessage:"see more"})))})),Z=(a(149),a(150),a(55)),ee=a.n(Z),te=(a(166),a(195)),ae=a(40),ne=Object(te.defineMessages)({allBodyTypes:{id:"allBodyTypes",defaultMessage:"all body types"},allBrands:{id:"allBrands",defaultMessage:"all brands"},allModels:{id:"allModels",defaultMessage:"all models"},increasingPrice:{id:"increasingPrice",defaultMessage:"increasing price"},decreasingPrice:{id:"decreasingPrice",defaultMessage:"decreasing price"},latest:{id:"latest",defaultMessage:"latest"},mostPopular:{id:"mostPopular",defaultMessage:"most popular"}}),re=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.props.query,n=this.props.bodyTypeList,s=this.props.brandAndModelsData,o=Object.keys(s),c=[];"all"!==a.bodyType&&(Object.keys(s).forEach((function(e){Object.keys(s[e]).includes(a.bodyType)&&c.push(e)})),o=c);var i=[];return"all"!==a.brand&&("all"===a.bodyType?Object.keys(s[a.brand]).forEach((function(e){i=[].concat(Object(R.a)(i),Object(R.a)(s[a.brand][e]))})):i=[].concat(Object(R.a)(i),Object(R.a)(s[a.brand][a.bodyType]))),r.a.createElement("div",{className:"inventory__controller"},r.a.createElement(k,{value:"all"===a.bodyType?t(ne.allBodyTypes):a.bodyType,list:[{text:t(ne.allBodyTypes),value:"all"}].concat(Object(R.a)(n)),selectItemHandler:this.props.selectBodyTypeHandler}),r.a.createElement(k,{value:"all"===a.brand?t(ne.allBrands):a.brand,list:[{text:t(ne.allBrands),value:"all"}].concat(Object(R.a)(o)),selectItemHandler:this.props.selectBrandHandler}),r.a.createElement(k,{value:"all"===a.model?t(ne.allModels):a.model,list:"all"!==a.brand?[{text:t(ne.allModels),value:"all"}].concat(Object(R.a)(i)):[{text:t(ne.allModels),value:"all"}],selectItemHandler:this.props.selectModelHandler}),a.sort&&r.a.createElement(k,{value:a.sort.split(" ").length>1?t(ne["".concat(a.sort.split(" ")[0]).concat(a.sort.split(" ")[1].slice(0,1).toUpperCase()).concat(a.sort.split(" ")[1].slice(1))]):t(ne[a.sort]),list:[{text:t(ne.increasingPrice),value:"increasing price"},{text:t(ne.decreasingPrice),value:"decreasing price"},{text:t(ne.latest),value:"latest"},{text:t(ne.mostPopular),value:"most popular"}],selectItemHandler:this.props.sortHandler}),r.a.createElement("div",{className:"inventory__controller__group"},r.a.createElement("div",{className:"inventory__controller__group__infos"},r.a.createElement("div",{className:"inventory__controller__group__infos__key"},r.a.createElement(H.a,{id:"price",defaultMessage:"price"})),r.a.createElement("div",{className:"inventory__controller__group__infos__value"},a.price.value.min," - ",a.price.value.max)),r.a.createElement(ee.a,{step:1e3,maxValue:a.price.scope.max,minValue:a.price.scope.min,value:a.price.value,onChange:function(t){return e.props.changePriceHandler(t)},onChangeComplete:this.props.changeComplete})),r.a.createElement("div",{className:"inventory__controller__group"},r.a.createElement("div",{className:"inventory__controller__group__infos"},r.a.createElement("div",{className:"inventory__controller__group__infos__key"},r.a.createElement(H.a,{id:"year",defaultMessage:"year"})),r.a.createElement("div",{className:"inventory__controller__group__infos__value"},a.year.value.min," - ",a.year.value.max)),r.a.createElement(ee.a,{maxValue:a.year.scope.max,minValue:a.year.scope.min,value:a.year.value,onChange:function(t){return e.props.changeYearHandler(t)},onChangeComplete:this.props.changeComplete})))}}]),t}(n.Component),se=Object(p.b)((function(e){return{brandAndModelsData:e.product.brandAndModelsData,price:e.product.price,bodyTypeList:e.product.bodyTypeList}}))(Object(ae.c)(re)),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={query:{brand:"all",model:"all",bodyType:"all",year:{value:{min:2008,max:2020},scope:{min:2008,max:2020}},price:{value:{min:null,max:null},scope:{min:null,max:null}},sort:"increasing price"}},a.selectBodyTypeHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{bodyType:e})})}))},a.selectBrandHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{brand:e})})}))},a.selectModelHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{model:e})})}))},a.changePriceHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{price:Object(j.a)({},t.query.price,{value:e})})})}))},a.changeYearHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{year:Object(j.a)({},t.query.year,{value:e})})})}))},a.onChangeComplete=function(){a.searchHandler()},a.searchHandler=function(){var e=a.state.query;a.props.history.push({pathname:"/inventory",search:"sort=".concat(e.sort,"&bodyType=").concat(e.bodyType,"&brand=").concat(e.brand,"&model=").concat(e.model,"&minPrice=").concat(e.price.value.min,"&maxPrice=").concat(e.price.value.max,"&minYear=").concat(e.year.value.min,"&maxYear=").concat(e.year.value.max)})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.price.min,t=this.props.price.max;this.setState((function(a){return Object(j.a)({},a,{query:Object(j.a)({},a.query,{price:{value:{min:e,max:t},scope:{min:e,max:t}}})})}))}},{key:"render",value:function(){var e=this.state.query;return r.a.createElement("div",{className:"home-search"},r.a.createElement(se,{query:e,selectBrandHandler:this.selectBrandHandler,selectModelHandler:this.selectModelHandler,sortHandler:this.sortHandler,changePriceHandler:this.changePriceHandler,changeYearHandler:this.changeYearHandler,changeComplete:this.changeComplete,selectBodyTypeHandler:this.selectBodyTypeHandler,data:this.props.brandAndModelsData}),r.a.createElement("div",{className:"home-search__cta"},r.a.createElement(J,{color:"primary",onClick:this.searchHandler},r.a.createElement(H.a,{id:"search",defaultMessage:"search"}))))}}]),t}(n.Component),ce=Object(p.b)((function(e){return{brandAndModelsData:e.product.brandAndModelsData,price:e.product.price}}))(Object(_.f)(oe)),ie=(a(167),Object(_.f)((function(e){return r.a.createElement("section",{className:"home-service"},r.a.createElement("h1",{className:"home-service__title"},r.a.createElement(H.a,{id:"ourOffers",defaultMessage:"our offers"})),r.a.createElement("ul",{className:"home-service__list"},r.a.createElement("li",{className:"home-service__list__item"},r.a.createElement(P,{icon:"buy"}),r.a.createElement("div",{className:"home-service__list__item__text"},r.a.createElement("h2",{className:"home-service__list__item__text__title"},"Basic"),r.a.createElement("p",{className:"home-service__list__item__text__para"},"Le Lorem Ipsum est simplement du faux texte employ\xe9 dans la composition et la mise en page avant impression."))),r.a.createElement("li",{className:"home-service__list__item"},r.a.createElement(P,{icon:"contract"}),r.a.createElement("div",{className:"home-service__list__item__text"},r.a.createElement("h2",{className:"home-service__list__item__text__title"},"Conventionnel"),r.a.createElement("p",{className:"home-service__list__item__text__para"},"Le Lorem Ipsum est simplement du faux texte employ\xe9 dans la composition et la mise en page avant impression."))),r.a.createElement("li",{className:"home-service__list__item"},r.a.createElement(P,{icon:"yoga"}),r.a.createElement("div",{className:"home-service__list__item__text"},r.a.createElement("h2",{className:"home-service__list__item__text__title"},"Tranquility"),r.a.createElement("p",{className:"home-service__list__item__text__para"},"Le Lorem Ipsum est simplement du faux texte employ\xe9 dans la composition et la mise en page avant impression."))),r.a.createElement("li",{className:"home-service__list__item"},r.a.createElement(P,{icon:"key"}),r.a.createElement("div",{className:"home-service__list__item__text"},r.a.createElement("h2",{className:"home-service__list__item__text__title"},"Cl\xe9s en main"),r.a.createElement("p",{className:"home-service__list__item__text__para"},"Le Lorem Ipsum est simplement du faux texte employ\xe9 dans la composition et la mise en page avant impression.")))),r.a.createElement(J,{color:"primary",onClick:function(){return e.history.push("/services")}},r.a.createElement(H.a,{id:"learnMore",defaultMessage:"LEARN MORE"})))}))),le=a(16),ue=(a(168),a(169),function(e){return r.a.createElement("div",{className:"input ".concat(e.className)},"input"===e.control&&r.a.createElement("input",{className:"input__field",type:e.type,id:e.id,required:e.required,value:e.value,placeholder:e.placeholder,autoComplete:e.autoComplete,onChange:function(t){return e.onChange(e.id,t.target.value,e.formType)}}),"textarea"===e.control&&r.a.createElement("textarea",{className:"textarea",id:e.id,required:e.required,value:e.value,onChange:function(t){return e.onChange(e.id,t.target.value)},placeholder:e.placeholder}),"select"===e.control&&r.a.createElement("select",{id:e.id,required:e.required,onChange:function(t){return e.onChange(e.id,t.target.value)},value:e.value},e.options.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),e.label&&r.a.createElement("label",{htmlFor:e.id,className:"input__label"},e.label),e.border&&r.a.createElement("div",{className:"input__border"}))}),me=(a(170),function(e,t,a,n,r){var s=[];return[e,t,a,n,r].forEach((function(e){e&&e.value.length<1&&s.push("".concat(e.errorLabel," is required"))})),/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e.value.trim())||s.push("Please, enter a valid email"),n&&n.value.trim().length<3&&s.push("Firstname should be at least 3 characters long"),r&&r.value.trim().length<3&&s.push("Lastname should be at least 3 characters long"),t.value.trim().length<5&&s.push("Password should be at least 5 characters long"),a&&t.value.trim()!==a.value.trim()&&s.push("Please enter the same password"),s}),de=(a(171),function(e){return o.a.createPortal(r.a.createElement("div",{className:["backdrop",e.open?"open":""].join(" "),onClick:e.onClick},e.children),document.getElementById("backdrop-root"))}),_e=(a(172),function(e){return r.a.createElement("section",{className:"modal"},r.a.createElement("header",{className:"modal__header"},r.a.createElement("h1",null,e.title)),r.a.createElement("div",{className:"modal__body"},e.children),r.a.createElement("div",{className:"modal__cta"},r.a.createElement(J,{onClick:e.onCloseModal,color:"primary"},"OK")))}),pe=function(e){return r.a.createElement(n.Fragment,null,e.error&&r.a.createElement(de,{onClick:e.onCloseError}),e.error&&r.a.createElement(_e,{title:"Oops something went wrong",onCloseModal:e.onCloseError},r.a.createElement("p",null,e.error[0])))},he=Object(te.defineMessages)({password:{id:"password",defaultMessage:"password"}}),ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loginForm:{email:{value:""},password:{value:""}},error:null},a.inputChangeHandler=function(e,t){a.setState((function(a){return{loginForm:Object(j.a)({},a.loginForm,Object(le.a)({},e,Object(j.a)({},a.loginForm[e],{value:t})))}}))},a.loginHandler=function(e,t){if(e.preventDefault(),a.props.setLoadingToTrue(),t){var n=me(t.email,t.password);if(n.length>0)return a.setState({error:n}),a.props.setLoadingToFalse(),void a.props.setErrors()}var r=F();fetch("https://africauto.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email.value,password:t.password.value,timeStamp:r})}).then((function(e){if(422===e.status)throw new Error("validation failed");if(401===e.status)throw new Error("Wrong email or password");if(200!==e.status&&201!==e.status)throw new Error("Could not authenticate you");return e.json()})).then((function(e){y()("https://africauto.herokuapp.com",{query:"data=".concat(e.userId," ").concat(e.connectionId)}).connect(),a.props.loginSucceeded(e),localStorage.setItem("woto-token",e.token),localStorage.setItem("woto-userId",e.userId),localStorage.setItem("woto-userName",e.userName);var t=new Date((new Date).getTime()+864e5);localStorage.setItem("woto-expiryDate",t.toISOString()),a.props.setLoadingToFalse(),a.props.history.push("/my-account/messages")})).catch((function(e){var t=[];t.push(e.message),a.setState({error:t}),a.props.loginFailed(),a.props.setLoadingToFalse(),a.props.setErrors()}))},a.closeErrorHandler=function(){a.setState({error:null}),a.props.resetErrors()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage;return this.state.error?r.a.createElement(pe,{error:this.state.error,onCloseError:this.closeErrorHandler}):r.a.createElement("form",{className:"auth__form auth__form--login",onSubmit:function(t){return e.loginHandler(t,e.state.loginForm)},noValidate:!0,autoComplete:"off"},r.a.createElement("ul",{className:"auth__input__list"},r.a.createElement(ue,{type:"email",control:"input",label:"email",id:"email",value:this.state.loginForm.email.value,onChange:this.inputChangeHandler,placeholder:"email",border:!0,required:!0,autoComplete:"new-password"}),r.a.createElement(ue,{type:"password",control:"input",label:"mot de passe",id:"password",value:this.state.loginForm.password.value,onChange:this.inputChangeHandler,placeholder:t(he.password),border:!0,required:!0,autoComplete:"new-password"})),r.a.createElement("div",{className:"login__options"},r.a.createElement("div",{className:"login__options--1"},r.a.createElement(H.a,{id:"forgotPassword",defaultMessage:"Forgot your password"})),r.a.createElement("div",{className:"login__options--1"},r.a.createElement(H.a,{id:"notAMemberYet",defaultMessage:"Not a member yet"})," ?")),r.a.createElement("div",{className:"auth__button"},r.a.createElement(J,{color:"primary",type:"submit"},r.a.createElement(H.a,{id:"login",defaultMessage:"login"}))))}}]),t}(n.Component),ge=Object(p.b)(null,(function(e){return{loginSucceeded:function(t){return e(function(e){return{type:"LOGIN_SUCCEDED",token:e.token,userId:e.userId,connectionId:e.connectionId,userName:e.userName}}(t))},loginFailed:function(){return e({type:"LOGIN_FAILED"})}}}))(Object(_.f)(Object(ae.c)(ve))),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loginForm:{email:{value:""},password:{value:""}},error:null},a.inputChangeHandler=function(e,t){a.setState((function(a){return{loginForm:Object(j.a)({},a.loginForm,Object(le.a)({},e,Object(j.a)({},a.loginForm[e],{value:t})))}}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-contact"},r.a.createElement("h1",{className:"home-contact__title"},r.a.createElement(H.a,{id:"needHelp",defaultMessage:"Need soome help"})),r.a.createElement("p",{className:"home-contact__text"},r.a.createElement(H.a,{id:"homeContactText",defaultMessage:"Log in to your woto account and enjoy a premium service for free. Our agents will be happy to assist you in the purchase of your next car."})),r.a.createElement("div",{className:"home-contact__form"},r.a.createElement(ge,null)))}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={carsHomeIntro:a.props.carsHomeIntro,index:0,initialIndex:0,showIntroList:!1,partRequested:"inventory",homeInventoryLimit:9},a.imageSlideHandler=function(){var e=a.state,t=e.index,n=e.carsHomeIntro;a.inter=setInterval((function(){t===n.length?a.setState({index:0},(function(){clearInterval(a.inter),a.imageSlideHandler()})):a.setState({index:t++})}),3e3)},a.onRequestChange=function(e){clearInterval(a.inter),a.setState({index:e},(function(){return a.imageSlideHandler()}))},a.clearInterval=function(){clearInterval(a.inter)},a.replayInterval=function(){a.imageSlideHandler()},a.showIntroListToggler=function(){a.setState((function(e){return{showIntroList:!e.showIntroList}}))},a.requestProductDetails=function(e){a.props.setProductRequestedData(e),a.props.history.push("/inventory/".concat(e._id,"?brand=").concat(e.general.brand,"&model=").concat(e.general.model,"&bodyType=").concat(e.general.bodyType,"&price=").concat(e.general.price)),a.props.fetchProductDetailsHandler&&a.props.fetchProductDetailsHandler(e)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.innerWidth>1337&&this.setState({homeInventoryLimit:8}),this.imageSlideHandler()}},{key:"componentWillUnmount",value:function(){this.clearInterval(this.inter)}},{key:"render",value:function(){var e=this,t=this.state.carsHomeIntro;return r.a.createElement("div",{className:"home"},r.a.createElement("section",{className:"home__intro"},t.map((function(t,a){return r.a.createElement("div",{className:"home__intro__background \n                                        ".concat(e.state.index===a?"active":"","\n                                        ").concat(0===a?"keyframe":""),key:a},r.a.createElement("img",{src:t.general.mainImgUrl,className:"home__intro__background__image",alt:"home intro"}),r.a.createElement("div",{className:"home__intro__product-container",onMouseEnter:e.clearInterval,onMouseLeave:e.replayInterval},r.a.createElement("div",{className:"home__intro__product"},r.a.createElement("div",{className:"home__intro__product__detail"},r.a.createElement("span",null,t.general.brand),r.a.createElement("span",null,t.general.model),r.a.createElement("span",null,t.general.year)),r.a.createElement("div",{className:"home__intro__product__price"},r.a.createElement(K,{amount:t.general.price,showCurrency:!0}))),r.a.createElement(J,{color:"primary",onClick:function(){return e.requestProductDetails(t)}},r.a.createElement(H.a,{id:"see",defaultMessage:"see"}))))}))),r.a.createElement("section",{className:"home__router"},r.a.createElement("div",{className:"home__router__nav"},r.a.createElement("h1",null,r.a.createElement("span",null,r.a.createElement(H.a,{id:"welcomeTo",defaultMessage:"welcome to"}),"\xa0"),r.a.createElement("span",null,"WOTO MOTORS")),r.a.createElement("nav",{className:"home__router__nav__list"},r.a.createElement("li",{className:"home__router__nav__list__item ".concat("inventory"===this.state.partRequested?"active":""),onClick:function(){return e.setState({partRequested:"inventory"})}},r.a.createElement(H.a,{id:"inventory",defaultMessage:"inventory"})),r.a.createElement("li",{className:"home__router__nav__list__item ".concat("search"===this.state.partRequested?"active":""),onClick:function(){return e.setState({partRequested:"search"})}},r.a.createElement(H.a,{id:"search",defaultMessage:"search"})),r.a.createElement("li",{className:"home__router__nav__list__item ".concat("services"===this.state.partRequested?"active":""),onClick:function(){return e.setState({partRequested:"services"})}},r.a.createElement(H.a,{id:"services",defaultMessage:"services"}))),r.a.createElement("div",{className:"home__router__nav__count"},r.a.createElement(P,{icon:"car"}),r.a.createElement("div",null,this.props.totalProductsCounter," ",r.a.createElement(H.a,{id:"availableCars",defaultMessage:"available cars"}))))),"inventory"===this.state.partRequested&&r.a.createElement($,{carsHomeInventory:this.props.carsHomeInventory,history:this.props.history,homeInventoryLimit:this.state.homeInventoryLimit}),"search"===this.state.partRequested&&r.a.createElement(ce,null),"services"===this.state.partRequested&&r.a.createElement(ie,null),r.a.createElement(fe,null),r.a.createElement("div",{className:"home__mostPopSedan"},r.a.createElement("h1",{className:"home__mostPopSedan__title"},r.a.createElement(H.a,{id:"mostPopularSedan",defaultMessage:"The most popular sedan"})),r.a.createElement(X,{productsList:this.props.mostPopularSedan})))}}]),t}(n.Component),ye=Object(p.b)((function(e){return{mostPopularSedan:e.product.mostPopularSedan,lang:e.parameters.lang,currency:e.parameters.currency,totalProductsCounter:e.product.totalProductsCounter}}),(function(e){return{setProductRequestedData:function(t){return e(h(t))}}}))(Ee),be=(a(173),a(174),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=1;a<=this.props.lastPage;a++)t.push(a);var n=t.map((function(t){return r.a.createElement("div",{onClick:e.props.onRequestPageNumber.bind(e,t),key:t,id:t,className:["paginator__control",e.props.currentPage===t?"active":" "].join(" ")},t)}));return r.a.createElement("div",{className:"paginator"},this.props.children,this.props.products&&this.props.products.length>0&&r.a.createElement("div",{className:"paginator__controls ".concat(1===this.props.currentPage&&this.props.products.length<this.props.itemsPerPage?"hide":" ")},r.a.createElement("div",{className:"paginator__control\n                                    ".concat(1===this.props.currentPage?"disabled":""),onClick:this.props.onRequestPreviousPage},r.a.createElement(P,{icon:"arrow-left"})),n,r.a.createElement("div",{className:"paginator__control\n                                    ".concat(this.props.currentPage===this.props.lastPage?"disabled":""),onClick:this.props.onRequestNextPage},r.a.createElement(P,{icon:"arrow-right"}))))}}]),t}(n.Component)),Ne=function(e,t,a,n){var r,s=n.USDCAD,o=n.USDEUR;return"CAD"===t&&("USD"===a&&(r=e/s),"EUR"===a&&(r=e/s*o),"CAD"===a&&(r=e)),"USD"===t&&("CAD"===a&&(r=e*s),"EUR"===a&&(r=e*o)),"EUR"===t&&("USD"===a&&(r=e/o),"CAD"===a&&(r=e/o*s)),r},we=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={products:null,loading:!0,query:{brand:"all",model:"all",bodyType:"all",page:1,year:{value:{min:2008,max:2020},scope:{min:2008,max:2020}},price:{value:{min:null,max:null},scope:{min:null,max:null},init:{min:null,max:null}},sort:"increasing price"},lastPage:null},a.fetchProductsHandler=function(){var e,t=a.state.query,n=new URL("https://africauto.herokuapp.com/product/client"),r=t.price.value.min,s=t.price.value.max,o=r,c=s;r=Ne(t.price.fullValue.min,a.props.currency,"CAD",a.props.quotes),s=Ne(t.price.fullValue.max,a.props.currency,"CAD",a.props.quotes),t&&(e=Object(j.a)({},e,{page:t.page,brand:t.brand,bodyType:t.bodyType,model:t.model,minPrice:Math.floor(r),maxPrice:Math.ceil(s),minYear:t.year.value.min,maxYear:t.year.value.max,sort:t.sort.split(" ").length>0?"".concat(t.sort.split(" ")[0],"_").concat(t.sort.split(" ")[1]):t.sort}),n.search=new URLSearchParams(e).toString()),fetch(n,{headers:{"Content-type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Error fetching products");return e.json()})).then((function(e){a.setState({products:e.products,loading:!1}),a.props.history.push({pathname:"/inventory",search:"bodyType=".concat(t.bodyType,"&brand=").concat(t.brand,"&currency=").concat(a.props.currency,"&lang=").concat(a.props.lang,"&maxPrice=").concat(c,"&maxYear=").concat(t.year.value.max,"&minPrice=").concat(o,"&minYear=").concat(t.year.value.min,"&model=").concat(t.model,"&page=").concat(t.page,"&sort=").concat(t.sort)})})).catch((function(e){console.log(e)}))},a.selectBodyTypeHandler=function(e){var t,n=a.props.brandAndModelsData,r=a.state.query;t="all"!==r.brand?Object.keys(n[r.brand]).includes(e)?Object(j.a)({},a.state.query,{bodyType:e}):Object(j.a)({},a.state.query,{bodyType:e,brand:"all",model:"all",page:1}):Object(j.a)({},a.state.query,{bodyType:e}),a.setState({query:t},(function(){return a.fetchProductsHandler(t)}))},a.selectBrandHandler=function(e){var t=Object(j.a)({},a.state.query,{brand:e});"all"===e&&(t=Object(j.a)({},t,{model:"all",page:1})),a.setState({query:t},(function(){return a.fetchProductsHandler(t)}))},a.selectModelHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{model:e})})}),(function(){return a.fetchProductsHandler()}))},a.sortHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{sort:e,page:1})})}),(function(){return a.fetchProductsHandler()}))},a.changePriceHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{page:1,price:Object(j.a)({},t.query.price,{value:e,fullValue:e})})})}))},a.changeYearHandler=function(e){a.setState((function(t){return Object(j.a)({},t,{query:Object(j.a)({},t.query,{page:1,year:Object(j.a)({},t.query.year,{value:e})})})}))},a.changeComplete=function(){a.fetchProductsHandler()},a.paginationHandler=function(e){var t=a.state.query;"next"===e&&a.props.currentInventoryPage<a.state.lastPage&&(t=Object(j.a)({},t,{page:a.props.currentInventoryPage+1}),a.props.setInventoryCurrentPage(a.props.currentInventoryPage+1),a.setState({query:t},(function(){return a.fetchProductsHandler()}))),"previous"===e&&a.props.currentInventoryPage>1&&(t=Object(j.a)({},t,{page:a.props.currentInventoryPage-1}),a.props.setInventoryCurrentPage(a.props.currentInventoryPage-1),a.setState({query:t},(function(){return a.fetchProductsHandler()}))),"previous"!==e&&"next"!==e&&(t=Object(j.a)({},t,{page:e}),a.props.setInventoryCurrentPage(e),a.setState({query:t},(function(){return a.fetchProductsHandler()})))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.price.min,a=this.props.price.max,n=S.a.parse(this.props.location.search);Object.keys(n).length>2?this.setState((function(r){return Object(j.a)({},r,{query:Object(j.a)({},r.query,{price:{init:{min:t,max:a},scope:{min:t,max:a},value:{min:parseInt(n.minPrice),max:parseInt(n.maxPrice)},fullValue:{min:parseInt(n.minPrice),max:parseInt(n.maxPrice)}},year:Object(j.a)({},r.query.year,{value:{min:parseInt(n.minYear),max:parseInt(n.maxYear)}}),brand:n.brand,model:n.model,sort:n.sort,bodyType:n.bodyType,page:n.page}),lastPage:Math.ceil(e.props.totalProductsCounter/e.props.itemsPerPage)})}),(function(){return e.fetchProductsHandler()})):this.setState((function(n){return Object(j.a)({},n,{query:Object(j.a)({},n.query,{price:{init:{min:t,max:a},scope:{min:t,max:a},value:{min:t,max:a},fullValue:{min:t,max:a}}}),lastPage:Math.ceil(e.props.totalProductsCounter/e.props.itemsPerPage)})}),(function(){return e.fetchProductsHandler()}))}},{key:"componentDidUpdate",value:function(e){var t=this,a=e.currency,n=this.props.currency,r=this.state.query;if(a!==n){var s=this.props.quotes;this.setState((function(e){return Object(j.a)({},e,{query:Object(j.a)({},e.query,{price:Object(j.a)({},e.query.price,{scope:{min:1e3*Math.floor(Ne(r.price.init.min,"CAD",n,s)/1e3),max:1e3*Math.ceil(Ne(r.price.init.max,"CAD",n,s)/1e3)},value:{min:1e3*Math.floor(Ne(r.price.init.min,"CAD",n,s)/1e3),max:1e3*Math.ceil(Ne(r.price.init.max,"CAD",n,s)/1e3)},fullValue:{min:Ne(r.price.init.min,"CAD",n,s),max:Ne(r.price.init.max,"CAD",n,s)}})})})}),(function(){return t.fetchProductsHandler()}))}}},{key:"render",value:function(){var e=this.state,t=e.products,a=e.loading,n=e.query,s=r.a.createElement(Y,null);return a||(s=r.a.createElement("div",{className:"inventory"},r.a.createElement(se,{currency:this.props.currency,query:n,selectBrandHandler:this.selectBrandHandler,selectModelHandler:this.selectModelHandler,selectBodyTypeHandler:this.selectBodyTypeHandler,sortHandler:this.sortHandler,changePriceHandler:this.changePriceHandler,changeYearHandler:this.changeYearHandler,changeComplete:this.changeComplete,data:this.props.brandAndModelsData}),r.a.createElement("section",{className:"inventory__container"},t&&r.a.createElement(be,{onRequestPreviousPage:this.paginationHandler.bind(this,"previous"),onRequestNextPage:this.paginationHandler.bind(this,"next"),lastPage:Math.ceil(this.props.totalProductsCounter/this.props.itemsPerPage),currentPage:this.props.currentInventoryPage,onRequestPageNumber:this.paginationHandler,products:t,itemsPerPage:this.props.itemsPerPage},r.a.createElement(X,{productsList:t}))))),s}}]),t}(n.Component),Oe=Object(p.b)((function(e){return{brandAndModelsData:e.product.brandAndModelsData,price:e.product.price,totalProductsCounter:e.product.totalProductsCounter,currentInventoryPage:e.product.currentInventoryPage,itemsPerPage:e.product.itemsPerPage,currency:e.parameters.currency,quotes:e.parameters.quotes,lang:e.parameters.lang}}),(function(e){return{setInventoryCurrentPage:function(t){return e({type:"SET_INVENTORY_CURRENT_PAGE",currentPage:t})}}}))(we),Ce=a(23),Se=(a(175),a(196)),je=(a(176),function(e){var t=e.product;return r.a.createElement("div",{className:"overview"},r.a.createElement("section",{className:"overview__section"},r.a.createElement("div",{className:"overview__title"},r.a.createElement(P,{icon:"file"}),r.a.createElement("div",null,"General")),r.a.createElement("ul",{className:"overview__list"},r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Brand"),r.a.createElement("div",{className:"overview__list__item__value"},t.general.brand)),r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Model"),r.a.createElement("div",{className:"overview__list__item__value"},t.general.model)),r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Body Type"),r.a.createElement("div",{className:"overview__list__item__value"},t.general.bodyType)),r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Year"),r.a.createElement("div",{className:"overview__list__item__value"},t.general.year)),r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Kilometer"),r.a.createElement("div",{className:"overview__list__item__value"},t.general.nbKilometers.toLocaleString()," km")),r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Year of release"),r.a.createElement("div",{className:"overview__list__item__value"},t.general.yearOfRelease)),r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Serial number"),r.a.createElement("div",{className:"overview__list__item__value"},t.general.serialNumber)))),r.a.createElement("section",{className:"overview__section"},r.a.createElement("div",{className:"overview__title"},r.a.createElement(P,{icon:"design"}),r.a.createElement("div",null,"Design")),r.a.createElement("ul",{className:"overview__list"},r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Interior color"),r.a.createElement("div",{className:"overview__list__item__value"},t.design.intColor)),r.a.createElement("li",{className:"overview__list__item"},r.a.createElement("div",{className:"overview__list__item__key"},"Exterior color"),r.a.createElement("div",{className:"overview__list__item__value"},t.design.extColor)))))}),Ie=(a(177),function(e){var t=e.product;return r.a.createElement("div",{className:"technical"},r.a.createElement("div",{className:"technical__section"},r.a.createElement("div",{className:"technical__title"},r.a.createElement(P,{icon:"engine"}),r.a.createElement("div",null,"Engine")),r.a.createElement("ul",{className:"technical__section__list"},r.a.createElement("li",{className:"technical__section__list__item"},r.a.createElement("span",{className:"technical__section__list__item__detail"},"Motor size"),r.a.createElement("span",{className:"technical__section__list__item__value"},t.tech.motorSize)),r.a.createElement("li",{className:"technical__section__list__item"},r.a.createElement("span",{className:"technical__section__list__item__detail"},"Number of cylinders"),r.a.createElement("span",{className:"technical__section__list__item__value"},t.tech.nbCylinders)),r.a.createElement("li",{className:"technical__section__list__item"},r.a.createElement("span",{className:"technical__section__list__item__detail"},"Fuel"),r.a.createElement("span",{className:"technical__section__list__item__value"},t.general.gazol)),r.a.createElement("li",{className:"technical__section__list__item"},r.a.createElement("span",{className:"technical__section__list__item__detail"},"Max speed"),r.a.createElement("span",{className:"technical__section__list__item__value"},t.tech.maxSpeed," km/h")))),r.a.createElement("div",{className:"technical__section"},r.a.createElement("div",{className:"technical__title"},r.a.createElement(P,{icon:"gear"}),r.a.createElement("div",null,"Transmission")),r.a.createElement("ul",{className:"technical__section__list"},r.a.createElement("li",{className:"technical__section__list__item"},r.a.createElement("span",{className:"technical__section__list__item__detail"},"Gear box"),r.a.createElement("span",{className:"technical__section__list__item__value"},t.general.transmissionType)),r.a.createElement("li",{className:"technical__section__list__item"},r.a.createElement("span",{className:"technical__section__list__item__detail"},"Number of gear ratios"),r.a.createElement("span",{className:"technical__section__list__item__value"},t.tech.nbGearRatios)))))}),Te=(a(178),function(e){var t=e.product;return r.a.createElement("div",{className:"features"},r.a.createElement("ul",{className:"features__list"},t.features.map((function(e){return r.a.createElement("li",{className:"features__list__item"},r.a.createElement(P,{icon:"arrow-list"}),e)}))))}),Pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).imageSlideHandler=function(){var e=a.state,t=e.index,n=e.images,r=e.initiatlIndex;a.inter=setInterval((function(){t===n.length?a.setState({index:r},(function(){clearInterval(a.inter),a.imageSlideHandler()})):a.setState({index:t++})}),2500)},a.changeGalleryImgIndex=function(e){var t=a.state.product.imageUrls.indexOf("".concat(e));a.setState({index:t})},a.fetchProductDetailsHandler=function(e){var t,n,r,s,o,c,i=a.props,l=i.productRequested,u=i.userId;if(t=null===u?"not connected":u,l)n=l.general.brand,r=l.general.model,s=l.general.price,c=l.general.bodyType,o=l._id;else{var m=a.props.location.search,d=new URLSearchParams(m);n=d.get("brand"),r=d.get("model"),s=d.get("price"),c=d.get("bodyType"),o=a.props.match.params.prodId}e&&(o=e._id,n=e.general.brand,r=e.general.model,s=e.general.price,c=e.general.bodyType);var _="https://africauto.herokuapp.com/product/".concat(o,"?userId=").concat(t,"&brand=").concat(n,"&model=").concat(r,"&bodyType=").concat(c,"&price=").concat(s);fetch(_,{headers:{"Content-type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Error fetching products");return e.json()})).then((function(e){var t,n=e.product,r=a.props.userFavorites,s=[];r.forEach((function(e){return s.push(e._id)})),t=!!s.includes(n._id),window.scrollTo(0,0),a.setState({product:e.product,relatedProducts:e.relatedProducts,favorite:t,loading:!1})})).catch((function(e){console.log(e)}))},a.favoriteHandler=function(){var e,t,n=a.props.productId;e=n||a.props.match.params.prodId,a.state.favorite?(t="https://africauto.herokuapp.com/user/remove-favorite/"+a.props.userId+"?prodId=".concat(e),a.props.removeUserFavoriteProduct(a.state.product)):(t="https://africauto.herokuapp.com/user/add-favorite/"+a.props.userId+"?prodId=".concat(e),a.props.addUserFavoriteProduct(a.state.product));fetch(t,{headers:{"Content-type":"application/json"},method:"POST"}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Error handling favorites product");return e.json()})).then((function(e){a.setState((function(e){return Object(j.a)({},e,{favorite:!e.favorite})}))})).catch((function(e){console.log(e)}))},a.requestProductDetails=function(e){a.fetchProductDetailsHandler(e)},a.showFullGalleryHandler=function(){a.props.hideScrollBarHandler()},a.state={index:0,product:null,relatedProducts:[],initiatlIndex:0,loading:!0,partRequested:"overview",favorite:!1},a.escFunction=a.escFunction.bind(Object(Ce.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchProductDetailsHandler(),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){clearInterval(this.inter),document.removeEventListener("keydown",this.escFunction,!1)}},{key:"escFunction",value:function(e){27===e.keyCode&&this.props.hideScrollBar&&this.props.showScrollBarHandler()}},{key:"render",value:function(){var e=this,t=this.state.product,a=this.state.relatedProducts;return this.state.loading?r.a.createElement(Y,null):r.a.createElement("div",{className:"single-car"},r.a.createElement("div",{className:"single-car__header"},r.a.createElement("div",{className:"single-car__header__main"},r.a.createElement("div",{className:"single-car__header__main__titleContainer"},r.a.createElement("h1",{className:"single-car__header__main__title"},t.general.title," ",t.general.year),this.props.userId&&r.a.createElement("div",{className:"single-car__header__main__favoriteButton ".concat(this.state.favorite?"active":""),onClick:this.favoriteHandler},this.state.favorite?"Retirer des favoris":"Ajouter aux favoris")),r.a.createElement("div",{className:"single-car__header__main__gallery"},r.a.createElement(Se.a,{index:this.state.index,onRequestChange:function(t){return e.setState({index:t})}},t.imageUrls.map((function(t){return r.a.createElement(Se.b,{objectFit:"cover",key:t,src:t,onClick:e.props.hideScrollBarHandler})})))),this.props.hideScrollBar&&r.a.createElement("div",{className:"single-car__header__main__gallery--fullContainer"},r.a.createElement("div",{className:"single-car__header__main__gallery--fullContainer__closeBtn",onClick:this.props.showScrollBarHandler},r.a.createElement(P,{icon:"close"})),r.a.createElement("div",{className:"single-car__header__main__gallery--full"},r.a.createElement(Se.a,{index:this.state.index,onRequestChange:function(t){return e.setState({index:t})}},t.imageUrls.map((function(e){return r.a.createElement(Se.b,{objectFit:"contain",key:e,src:e})}))))),r.a.createElement("div",{className:"single-car__header__main__gallery__controller"},t.imageUrls.map((function(t){return r.a.createElement("img",{src:t,alt:"car",key:t,className:"single-car__header__main__gallery__controller__img",onClick:function(){return e.changeGalleryImgIndex(t)}})})))),r.a.createElement("div",{className:"single-car__header__info"},r.a.createElement("div",{className:"single-car__header__info__priceContainer"},r.a.createElement("div",{className:"single-car__header__info__price"}," ",r.a.createElement(K,{amount:t.general.price,showCurrency:!0}))),r.a.createElement("ul",{className:"single-car__header__info__list"},r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"reference"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.supplier.reference)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"brand"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.brand)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"body type"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.bodyType)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"model"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.model)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"year"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.year)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"kilometer"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.nbKilometers," km")),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"YOR"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.yearOfRelease)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"fuel"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.gazol)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"gear box"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.transmissionType)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"serial number"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.serialNumber)),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"views"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.general.viewCounter?t.general.viewCounter:"-")),r.a.createElement("li",{className:"single-car__header__info__list__item"},r.a.createElement("div",{className:"single-car__header__info__list__item__key"},"followers"),r.a.createElement("div",{className:"single-car__header__info__list__item__value"},t.followersCounter?t.followersCounter:"-"))))),r.a.createElement("section",{className:"single-car__details"},r.a.createElement("ul",{className:"single-car__details__nav"},r.a.createElement("li",{className:"single-car__details__nav__item\n                                        ".concat("overview"===this.state.partRequested?"active":""),onClick:function(){return e.setState({partRequested:"overview"})}},"Overview"),r.a.createElement("li",{className:"single-car__details__nav__item\n                                        ".concat("technical"===this.state.partRequested?"active":""),onClick:function(){return e.setState({partRequested:"technical"})}},"Technical"),r.a.createElement("li",{className:"single-car__details__nav__item\n                                        ".concat("features"===this.state.partRequested?"active":""),onClick:function(){return e.setState({partRequested:"features"})}},"Features")),"overview"===this.state.partRequested&&r.a.createElement(je,{product:t}),"technical"===this.state.partRequested&&r.a.createElement(Ie,{product:t}),"features"===this.state.partRequested&&r.a.createElement(Te,{product:t})),r.a.createElement("section",{className:"single-car__related"},r.a.createElement("h2",{className:"single-car__section__title"},"Similar vehicles"),r.a.createElement(X,{productsList:a,fetchProductDetailsHandler:this.fetchProductDetailsHandler})),r.a.createElement("section",{className:"single-car__mostPopular"},r.a.createElement("h2",{className:"single-car__section__title"},"Most popular"),r.a.createElement(X,{productsList:this.props.mostPopularProducts,fetchProductDetailsHandler:this.fetchProductDetailsHandler})))}}]),t}(n.Component),ke=Object(p.b)((function(e){return{productRequested:e.product.productRequested,mostPopularProducts:e.product.mostPopularProducts,userId:e.auth.userId,userFavorites:e.user.favorites}}),(function(e){return{setProductRequestedData:function(t){return e(h(t))},addUserFavoriteProduct:function(t){return e(function(e){return{type:"ADD_USER_FAVORITE_PRODUCT",product:e}}(t))},removeUserFavoriteProduct:function(t){return e(function(e){return{type:"REMOVE_USER_FAVORITE_PRODUCT",product:e}}(t))}}}))(Pe),Me=(a(186),a(187),Object(te.defineMessages)({firstName:{id:"firstName",defaultMessage:"first name"},lastName:{id:"lastName",defaultMessage:"last name"},confirmPassword:{id:"confirmPassword",defaultMessage:"confirm password"},password:{id:"password",defaultMessage:"password"}})),He=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={signupForm:{firstName:{value:"",errorLabel:"A firstname"},lastName:{value:"",errorLabel:"A lastname"},email:{value:"",errorLabel:"An email"},password:{value:"",errorLabel:"A password"},confirm_password:{value:"",errorLabel:"A confirmation password"}},error:null},a.inputChangeHandler=function(e,t){a.setState((function(a){return{signupForm:Object(j.a)({},a.signupForm,Object(le.a)({},e,Object(j.a)({},a.signupForm[e],{value:t})))}}))},a.submitHandler=function(e,t){e.preventDefault(),a.props.setLoadingToTrue();var n=me(t.email,t.password,t.confirm_password,t.firstName,t.lastName);if(n.length>0)return a.setState({error:n}),a.props.setLoadingToFalse(),void a.props.setErrors();var r=new FormData;r.append("firstName",t.firstName.value),r.append("lastName",t.lastName.value),r.append("email",t.email.value),r.append("password",t.password.value),fetch("https://africauto.herokuapp.com/auth/signup",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(r))}).then((function(e){if(422===e.status)throw new Error("Make sure the email isn't used yet");if(200!==e.status&&201!==e.status)throw new Error(" Creating a user failed");return e.json()})).then((function(e){a.props.setLoadingToFalse(),a.props.requestLoginForm()})).catch((function(e){var t=[];t.push(e.message),a.props.setLoadingToFalse(),a.props.setErrors(),a.setState({error:t})}))},a.closeErrorHandler=function(){a.setState({error:null}),a.props.resetErrors()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage;return this.state.error?r.a.createElement(pe,{error:this.state.error,onCloseError:this.closeErrorHandler}):r.a.createElement("form",{className:"auth__form auth__form--signup",onSubmit:function(t){return e.submitHandler(t,e.state.signupForm)},autoComplete:"off",noValidate:!0},r.a.createElement("ul",{className:"auth__input__list"},r.a.createElement(ue,{type:"text",control:"input",id:"firstName",value:this.state.signupForm.firstName.value,label:"pr\xe9nom",onChange:this.inputChangeHandler,placeholder:t(Me.firstName),border:!0,required:!0}),r.a.createElement(ue,{type:"text",control:"input",label:"nom",id:"lastName",value:this.state.signupForm.lastName.value,onChange:this.inputChangeHandler,placeholder:t(Me.lastName),border:!0,required:!0}),r.a.createElement(ue,{type:"email",control:"input",label:"email",id:"email",value:this.state.signupForm.email.value,onChange:this.inputChangeHandler,placeholder:"email",border:!0,required:!0}),r.a.createElement(ue,{type:"password",control:"input",label:"mot de passe",id:"password",value:this.state.signupForm.password.value,onChange:this.inputChangeHandler,placeholder:t(Me.password),border:!0,autoComplete:"new-password",required:!0}),r.a.createElement(ue,{id:"confirm_password",label:"confirmer mot de passe",placeholder:t(Me.confirmPassword),type:"password",control:"input",required:!0,border:!0,value:this.state.signupForm.confirm_password.value,onChange:this.inputChangeHandler})),r.a.createElement("div",{className:"signup__options"},r.a.createElement("div",{className:"signup__options--1"},r.a.createElement(H.a,{id:"alreadyHaveAnAccount",defaultMessage:"already have an account"})," ?")),r.a.createElement("div",{className:"auth__button"},r.a.createElement(J,{color:"primary",type:"submit"},r.a.createElement(H.a,{id:"signUp",defaultMessage:"sign up"}))))}}]),t}(n.Component),xe=Object(ae.c)(He),De=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={requestedForm:"signup",loading:!1,error:!1},a.setRequestedForm=function(e){a.setState({requestedForm:e})},a.setLoadingToTrue=function(){a.setState({loading:!0})},a.setLoadingToFalse=function(){a.setState({loading:!1})},a.setErrors=function(){a.setState({error:!0})},a.resetErrors=function(){a.setState({error:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,!0===this.state.loading&&r.a.createElement(Y,null),r.a.createElement("section",{className:"auth"},r.a.createElement("div",{className:"auth__container"},!1===this.state.error&&r.a.createElement("div",{className:"auth__controller"},r.a.createElement("div",{className:"auth__controller__button \n                                                ".concat("signup"===this.state.requestedForm?"active":""),onClick:function(){return e.setRequestedForm("signup")}},r.a.createElement(H.a,{id:"signUp",defaultMessage:"sign up"})),r.a.createElement("div",{className:"auth__controller__button \n                                                ".concat("login"===this.state.requestedForm?"active":""),onClick:function(){return e.setRequestedForm("login")}},r.a.createElement(H.a,{id:"login",defaultMessage:"login"}))),"signup"===this.state.requestedForm&&r.a.createElement(xe,{setLoadingToTrue:this.setLoadingToTrue,setLoadingToFalse:this.setLoadingToFalse,setErrors:this.setErrors,resetErrors:this.resetErrors,requestLoginForm:function(){return e.setRequestedForm("login")}}),"login"===this.state.requestedForm&&r.a.createElement(ge,{setLoadingToTrue:this.setLoadingToTrue,setLoadingToFalse:this.setLoadingToFalse,setErrors:this.setErrors,resetErrors:this.resetErrors}))))}}]),t}(n.Component),qe=(a(188),a(189),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messages:null,messageInput:""},a.readNewMessagesHandler=function(){var e="https://africauto.herokuapp.com/messages/"+a.props.userId,t=F();fetch(e,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({timeStamp:t,userName:a.props.userName.split(" ")[0]})}).then((function(e){if(200!==e.status)throw new Error("Failed to fetch messages");return e.json()})).then((function(e){console.log("resdata",e)})).catch((function(e){console.log(e)}))},a.addMessages=function(e){var t=[].concat(Object(R.a)(a.state.messages),[e]);a.setState({messages:t},(function(){return a.scrollToBottom()}))},a.messageChangeHandler=function(e){a.setState({messageInput:e})},a.sendMessageHandler=function(){if(""!==a.state.messageInput){var e=F(),t="https://africauto.herokuapp.com/messages/user/"+a.props.userId;fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:a.props.userName.split(" ")[0],message:a.state.messageInput,timeStamp:e})}).then((function(e){return e.json()})).then((function(e){a.addMessages(e.data),a.setState({messageInput:""},(function(){return a.scrollToBottom()}))})).catch((function(e){console.log(e)}))}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="https://africauto.herokuapp.com/messages/"+this.props.userId;fetch(t,{headers:{"Content-Type":"application/json"},method:"GET"}).then((function(e){if(200!==e.status)throw new Error("Failed to fetch messages");return e.json()})).then((function(t){console.log(t),e.props.newMessage>0&&(e.props.resetNewMessageNotification(),e.readNewMessagesHandler()),e.setState({messages:t.messages.messages},(function(){return e.scrollToBottom()}))})).catch((function(e){console.log(e)})),y()("https://africauto.herokuapp.com").on("adminSentMessage",(function(t){e.props.userId===t.messageData.userId&&(e.readNewMessagesHandler(),e.addMessages(t.messageData))}))}},{key:"scrollToBottom",value:function(){this.messagesEnd.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.messages,s=a.messageInput;return e=n&&n.length>0?r.a.createElement(V,{messages:n}):r.a.createElement("div",{className:"messagesContainer__body__start"},"Start conversation"),r.a.createElement("div",{className:"messages"},r.a.createElement("div",{className:"messages__body"},e,r.a.createElement("div",{ref:function(e){t.messagesEnd=e}})),r.a.createElement("div",{className:"messages__sender"},r.a.createElement("div",{className:"messages__sender__textareaContainer"},r.a.createElement(W,{value:s,placeholder:"message",onChange:this.messageChangeHandler,className:"messages__sender__textarea"}),r.a.createElement(P,{icon:"send",onClick:this.sendMessageHandler,customClass:"messages__sender__sender-btn"}))))}}]),t}(n.Component)),Le=Object(p.b)((function(e){return{userId:e.auth.userId,userName:e.auth.userName,newMessage:e.notification.newMessage}}),(function(e){return{addNewMessageNotification:function(t){return e(f(t))},resetNewMessageNotification:function(){return e({type:"RESET_NEW_MESSAGE_NOTIFICATION"})}}}))(qe),Ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,scrolling:!1},a.requestProductDetails=function(e){a.props.setProductRequestedData(e),a.props.history.push("/car/".concat(e.productId))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){"/my-account/messages"!==this.props.location.pathname?this.setState({scrolling:!0}):this.setState({scrolling:!1})}},{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&("/my-account/messages"===this.props.location.pathname?this.setState({scrolling:!1}):this.setState({scrolling:!0}))}},{key:"render",value:function(){var e=this.props.favorites,t=this.state.scrolling;return r.a.createElement("div",{className:"account"},r.a.createElement("div",{className:"account__sidebar"},r.a.createElement("ul",{className:"account__sidebar__list"},r.a.createElement(c.c,{to:"/my-account/messages",className:"account__sidebar__list__item"},r.a.createElement(P,{icon:"email"}),r.a.createElement("span",null,"Messages")),r.a.createElement(c.c,{to:"/my-account/favorites",className:"account__sidebar__list__item"},r.a.createElement(P,{icon:"heart"}),r.a.createElement("span",null,"Favorites"))),r.a.createElement("div",{className:"account__sidebar__logout",onClick:this.props.logoutHandler},r.a.createElement("span",null,"Logout"))),r.a.createElement("div",{className:"account__currentSection ".concat(t?"scroll":"")},r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/my-account/favorites",render:function(t){return r.a.createElement(X,Object.assign({},t,{productsList:e}))}}),r.a.createElement(_.a,{path:"/my-account/messages",component:Le}))))}}]),t}(n.Component),Re=Object(p.b)((function(e){return{userId:e.auth.userId,favorites:e.user.favorites}}),(function(e){return{setProductRequestedData:function(t){return e(h(t))}}}))(Object(_.f)(Ae)),Fe=(a(190),Object(te.defineMessages)({purchase:{id:"purchase",defaultMessage:"purchase"},vehicle_paper:{id:"vehicle_paper",defaultMessage:"vehicle_paper"},customs_clearance:{id:"customs_clearance",defaultMessage:"customs_clearance"},insurance:{id:"insurance",defaultMessage:"insurance"}})),Ue=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e,t=this.props.intl.formatMessage,a=(e={},Object(le.a)(e,t(Fe.purchase),["basic","conventionnel","tranquility","cl\xe9s en main"]),Object(le.a)(e,t(Fe.vehicle_paper),["basic","conventionnel","tranquility","cl\xe9s en main"]),Object(le.a)(e,"transport",["conventionnel","tranquility","cl\xe9s en main"]),Object(le.a)(e,t(Fe.customs_clearance),["conventionnel","tranquility","cl\xe9s en main"]),Object(le.a)(e,t(Fe.insurance),["tranquility","cl\xe9s en main"]),e),n=["basic","conventionnel","tranquility","cl\xe9s en main"];return r.a.createElement("div",{className:"services"},r.a.createElement("header",{className:"services__header"},r.a.createElement("h1",{className:"services__header__title"},r.a.createElement(H.a,{id:"yourNextCarHere",defaultMessage:"your next car is here"})),r.a.createElement("div",{className:"services__header__text"},r.a.createElement(H.a,{id:"serviceText",defaultMessage:"Wherever you are, we have what you need. We offer 4 different types of service depending on the place of delivery. We also give our customers the possibility to choose a customized package. Therefore, we invite you to contact one of our agents."}))),r.a.createElement("table",{className:"services__table"},r.a.createElement("thead",{className:"services__table__header"},r.a.createElement("tr",null,r.a.createElement("th",null,"\xa0"),n.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",{className:"services__table__data"},Object.keys(a).map((function(e,t){return r.a.createElement("tr",{key:t,className:"services__table__data__row"},r.a.createElement("td",null,e.split("_").length>1?"".concat(e.split("_")[0],"     ").concat(e.split("_")[1]," ").concat(void 0!==e.split("_")[2]?e.split("_")[2]:"","    "):e),n.map((function(t,n){return a[e].includes(t)?r.a.createElement("td",{className:"services__table__data__row__checked",key:n},r.a.createElement(P,{icon:"checkmark"})):r.a.createElement("td",{className:"services__table__data__row__unchecked",key:n},r.a.createElement(P,{icon:"cross"}))})))})))))}}]),t}(n.Component),Be=Object(p.b)((function(e){return{lang:e.parameters.lang,currency:e.parameters.currency}}))(Object(ae.c)(Ue)),We=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={carsHomeIntro:[],carsHomeInventory:[],loading:!1,hideScrollBar:!1,hideFooter:!1,scrolled:!1,scrollDirection:"bottom",lang:"english"},a.listenToScroll=function(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=e<50;!t&&a.scrollPos>e&&(a.scrollPos=e,a.setState({scrolled:!0,scrollDirection:"top"})),!t&&a.scrollPos<e&&(a.scrollPos=e,a.setState({scrolled:!0,scrollDirection:"bottom"})),t&&(a.scrollPos=e,a.setState({scrolled:!1}))},a.initAppDataHandler=function(){fetch("https://africauto.herokuapp.com/product/init",{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Error fetching products");return e.json()})).then((function(e){a.props.initAppData(e),a.setState({carsHomeIntro:e.publicityProducts,carsHomeInventory:e.homeInventoryProducts,loading:!1})})).catch((function(e){console.log(e)}))},a.startConnection=function(e,t){fetch("https://africauto.herokuapp.com/auth/start-connection",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:e,timeStamp:t})}).then((function(e){if(401===e.status)throw new Error("UserId not valid");if(200!==e.status&&201!==e.status)throw new Error("Could not update last connection");return e.json()})).then((function(t){y()("https://africauto.herokuapp.com/",{query:"data=".concat(e," ").concat(t.connectionId)}).connect(),a.props.setConnectionId(t.connectionId)})).catch((function(e){console.log(e)}))},a.logoutHandler=function(){a.props.setLoginStateToFalse();var e=F(),t=localStorage.getItem("woto-userId"),n=a.props.connectionId;a.endConnection(t,n,e,!0),a.props.history.push("/")},a.endConnection=function(e,t,a,n){fetch("https://africauto.herokuapp.com/auth/end-connection",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:e,connectionId:t,timeStamp:a})}).then((function(e){if(401===e.status)throw new Error("UserId not valid");if(200!==e.status&&201!==e.status)throw new Error("Could not update last connection")})).then((function(){localStorage.removeItem("woto-connectionId"),!0===n&&(localStorage.removeItem("woto-token"),localStorage.removeItem("woto-expiryDate"),localStorage.removeItem("woto-userId"),localStorage.removeItem("woto-userName"))})).catch((function(e){console.log(e)}))},a.initUserFavoriteProducts=function(e){fetch("https://africauto.herokuapp.com/user/favorites/"+e,{headers:{"Content-type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Error fetching products");return e.json()})).then((function(e){a.props.setUserFavoriteProducts(e.favorites)})).catch((function(e){console.log(e)}))},a.showScrollBarHandler=function(){a.setState({hideScrollBar:!1},(function(){return document.body.className=""}))},a.hideScrollBarHandler=function(){a.setState({hideScrollBar:!0},(function(){return document.body.className="hideScrollBar"}))},a.playNotificationSound=function(){a.player.play()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.listenToScroll),this.scrollPos=0,this.scrollDirection="bottom";var e=S.a.parse(this.props.location.search);Object.keys(e).length>0?(this.props.setLang(e.lang),this.props.setCurrency(e.currency)):this.props.history.push({pathname:this.props.history.pathname,search:"currency=".concat(this.props.currency,"&lang=").concat(this.props.lang)}),this.setState({loading:!0}),this.initAppDataHandler();var t=localStorage.getItem("woto-token"),a=localStorage.getItem("woto-expiryDate"),n=localStorage.getItem("woto-userId"),r=localStorage.getItem("woto-userName");if(t&&a){if(new Date(a)<=new Date)return console.log("Token not valid anymore"),void this.props.setLoginStateToFalse();this.props.location.pathname.includes("/my-account")&&this.setState({hideFooter:!0});var s={isAuth:!0,token:t,userId:n,userName:r};this.props.setLoginStateToTrue(s),this.initUserFavoriteProducts(s.userId);var o=F();this.startConnection(n,o)}else console.log("NO TOKEN")}},{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&(this.props.location.pathname.includes("/my-account")?this.setState({hideFooter:!0}):this.setState({hideFooter:!1}),this.props.location.pathname.includes("/inventory")||this.props.history.push({pathname:this.props.history.pathname,search:"currency=".concat(this.props.currency,"&lang=").concat(this.props.lang)})),e.lang!==this.props.lang&&this.setState({lang:this.props.lang})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.listenToScroll)}},{key:"render",value:function(){var e,t=this,a=this.state,s=a.loading,o=a.hideScrollBar,c=a.hideFooter,i=a.scrolled,l=a.scrollDirection,u=a.lang,m=window.innerWidth,d={french:"fr",english:"en"};return e=!0!==s&&this.props.brandAndModelsData?r.a.createElement("div",{className:"app"},m>850&&r.a.createElement(n.Fragment,null,r.a.createElement(M,{scrolled:i,scrollDirection:l}),r.a.createElement(x,{scrolled:i,scrollDirection:l})),m<=850&&r.a.createElement(q,{logoutHandler:this.logoutHandler}),r.a.createElement("audio",{src:N.a,ref:function(e){return t.player=e}}),m>600&&this.props.auth&&this.props.token&&this.props.userId&&r.a.createElement(G,{playNotificationSound:this.playNotificationSound}),r.a.createElement(_.c,null,r.a.createElement(_.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(ye,Object.assign({},e,{carsHomeIntro:t.state.carsHomeIntro,carsHomeInventory:t.state.carsHomeInventory}))}}),r.a.createElement(_.a,{path:"/inventory/:prodId",render:function(e){return r.a.createElement(ke,Object.assign({},e,{hideScrollBar:o,showScrollBarHandler:t.showScrollBarHandler,hideScrollBarHandler:t.hideScrollBarHandler}))}}),r.a.createElement(_.a,{path:"/inventory",component:Oe}),r.a.createElement(_.a,{path:"/auth",component:De}),r.a.createElement(_.a,{path:"/my-account",render:function(e){return r.a.createElement(Re,Object.assign({},e,{logoutHandler:t.logoutHandler}))}}),r.a.createElement(_.a,{path:"/services",component:Be})),r.a.createElement(A,{hide:c})):r.a.createElement(Y,null),r.a.createElement(w.a,{locale:d[u],messages:O[d[u]]},e)}}]),t}(n.Component),Ve=Object(p.b)((function(e){return{auth:e.auth.auth,token:e.auth.token,userId:e.auth.userId,connectionId:e.auth.connectionId,brandAndModelsData:e.product.brandAndModelsData,lang:e.parameters.lang,currency:e.parameters.currency}}),(function(e){return{setLoginStateToTrue:function(t){return e(function(e){return{type:"SET_LOGIN_STATE_TO_TRUE",isAuth:e.isAuth,token:e.token,userId:e.userId,userName:e.userName}}(t))},setLoginStateToFalse:function(){return e({type:"SET_LOGIN_STATE_TO_FALSE"})},setConnectionId:function(t){return e({type:"SET_CONNECTION_ID",connectionId:t})},initAppData:function(t){return e(function(e){return{type:"INIT_APP_DATA",data:e}}(t))},setUserFavoriteProducts:function(t){return e(function(e){return{type:"SET_USER_FAVORITE_PRODUCTS",favorites:e}}(t))},setLang:function(t){return e(v(t))},setCurrency:function(t){return e(g(t))}}}))(Object(_.f)(We));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=a(29),Ge=function(e,t){return Object(j.a)({},e,{},t)},Ye={auth:!1,token:null,userId:null,connectionId:null,userName:null},Je=function(e,t){return Ge(e,{auth:!0,token:t.token,userId:t.userId,connectionId:t.connectionId,userName:t.userName})},Ke=function(e,t){return Ge(e,{auth:t.isAuth,token:t.token,userId:t.userId,userName:t.userName})},Qe=function(e){return Ge(e,{auth:!1,token:null,userId:null,userName:null,connectionId:null})},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCEDED":return Je(e,t);case"LOGIN_FAILED":return;case"SET_LOGIN_STATE_TO_TRUE":return Ke(e,t);case"SET_LOGIN_STATE_TO_FALSE":return Qe(e);case"SET_CONNECTION_ID":return Ge(e,{connectionId:t.connectionId});default:return e}},$e={brandAndModelsData:null,mostPopularProducts:null,price:null,mostPopularSedan:null,productRequested:null,bodyTypeList:null,totalProductsCounter:null,currentInventoryPage:1,itemsPerPage:20},Ze=function(e,t){return Ge(e,{brandAndModelsData:t.data.brandAndModelsData,mostPopularProducts:t.data.mostPopularProducts,price:t.data.price,mostPopularSedan:t.data.mostPopularSedan,bodyTypeList:t.data.bodyTypeList,totalProductsCounter:t.data.totalProductsCounter})},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCT_REQUESTED_ID":return Ge(e,{productRequested:t.data});case"INIT_APP_DATA":return Ze(e,t);case"SET_INVENTORY_CURRENT_PAGE":return Ge(e,{currentInventoryPage:t.currentPage});case"SET_PRICE":return Ge(e,{price:t.data});default:return e}},tt={favorites:[]},at=function(e,t){return Ge(e,{favorites:[].concat(Object(R.a)(e.favorites),[t.product])})},nt=function(e,t){var a=e.favorites.filter((function(e){return e._id!==t.product._id}));return Ge(e,{favorites:a})},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_FAVORITE_PRODUCTS":return Ge(e,{favorites:t.favorites});case"ADD_USER_FAVORITE_PRODUCT":return at(e,t);case"REMOVE_USER_FAVORITE_PRODUCT":return nt(e,t);default:return e}},st={lang:"english",currency:"CAD",quotes:{USDCAD:1.32357,USDEUR:.92693,EURUSD:1.0788,EURCAD:1.4289,CADUSD:.7555,CADEUR:.6998}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANG":return Ge(e,{lang:t.lang});case"SET_CURRENCY":return Ge(e,{currency:t.currency});default:return e}},ct={newMessage:0},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_A_NEW_MESSAGE_NOTIFICATION":return Ge(e,{newMessage:e.newMessage+t.data});case"RESET_NEW_MESSAGE_NOTIFICATION":return Ge(e,{newMessage:0});default:return e}},lt=a(83),ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ze.d,mt=Object(ze.c)({auth:Xe,product:et,user:rt,parameters:ot,notification:it}),dt=Object(ze.e)(mt,ut(Object(ze.a)(lt.a)));o.a.render(r.a.createElement(p.a,{store:dt},r.a.createElement(c.a,null,r.a.createElement(Ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},77:function(e,t,a){e.exports=a.p+"static/media/eventually.b5e7acad.mp3"},78:function(e,t,a){e.exports=a.p+"static/media/sprite.be8a817b.svg"},86:function(e,t,a){e.exports=a(191)},91:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.b04b236d.chunk.js.map